(in-package :stumpwm)

(setf *which-key-format* "~5a^n ~a")

(defun super (key)
  "Returns the keybinding of Super+key"
  (kbd (concatenate 'string "s-" key)))

(defun exec (&optional (cmd ""))
  "Returns the command to execute an arbitray command"
  (concatenate 'string "exec " cmd))

(set-prefix-key (kbd "Super_L"))
(define-key *root-map* (kbd "RET")     (exec "kitty"))
(define-key *root-map* (kbd "e")       (exec "kitty nvim"))
(define-key *root-map* (kbd "SPC")     (exec))
; (define-key *root-map* (kbd "Super_L") "command-mode")
(define-key *root-map* (kbd "ESC")     "abort")

(undefine-key *root-map* *escape-fake-key*)
(undefine-key *root-map* (kbd "c"))
(undefine-key *root-map* (kbd "!"))
(undefine-key *root-map* (kbd "C-a"))
(undefine-key *root-map* (kbd "C-b"))
(undefine-key *root-map* (kbd "C-c"))
(undefine-key *root-map* (kbd "C-e"))
(undefine-key *root-map* (kbd "C-g"))
(undefine-key *root-map* (kbd "C-m"))
